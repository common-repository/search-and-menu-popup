<?php/** * 'Search Popup' SHORTCODE */// Exit if accessed directlyif ( !defined( 'ABSPATH' ) ) exit;function rjsmp_popup_shortcode( $atts, $content = null ) {		// Parameter FOR CUSTOMIZE, USERS CAN EDIT HERE	extract(shortcode_atts(array(		'enable_loader'     		=> 'true',		'popup_effect'              => 'fadein',		'speedin'                   => '300',		'speedout'                  => '300',		'delay'                   	=> '300',		'full_screen'     			=> 'true',		), $atts));		$popup_effect 			= !empty($popup_effect) 				? $popup_effect 					: 'fadein'; //slide, fadein, blur, makeway, push	$enable_loader 			= ( $enable_loader == 'false' ) 		? 'false' 							: 'true';	$full_screen 			= ( $full_screen == 'false' ) 			? 'false' 							: 'true';	$speedin 				= (!empty($speedin)) 					? $speedin 							: 300;	$speedout 				= (!empty($speedout)) 					? $speedout 						: 300;	$delay 					= (!empty($delay)) 						? $delay 							: 300;			wp_enqueue_script('jquery-custombox-legacy');	wp_enqueue_script('jquery-custombox');			$unique = rjsmp_get_unique();			ob_start();								$data_rjsmp_str = '{"content":';		$data_rjsmp_str .= '{"effect": "'.$popup_effect.'", "fullscreen": '.$full_screen.', "speedIn": '.$speedin.', "speedOut": '.$speedout.', "delay": '.$delay.'},';			$data_rjsmp_str .= '"loader":';			$data_rjsmp_str .= '{"active": '.$enable_loader.'}';				$data_rjsmp_str .= '}';				?>				<a class="rjsmp-link" href="javascript:void(0);" data-rjsmp-<?php echo $unique;?>='<?php echo $data_rjsmp_str;?>'><img src="<?php echo RJSMP_URL; ?>/assets/images/search.png" alt="search" /></a>				<div id="rjsmp-modal-<?php echo $unique;?>" class="rjsmp-modal">	      <a href="javascript:void(0);" onclick="Custombox.modal.close();" class="rjsmp-close"></a>	     			<div class="rjsmp-search-box">				<form role="search" method="get" id="searchform" class="searchform" action="<?php echo esc_url( home_url( '/' ) ); ?>">												<input placeholder="<?php _e('Start Typing Here...', 'search-and-menu-popup'); ?>" type="search" value="<?php echo get_search_query(); ?>" name="s" id="s" />					<button type="submit" class="search-btn"><?php _e('Search', 'search-and-menu-popup'); ?></button>							</form>  			</div>			</div>		<script>				jQuery(function() {				 jQuery(document).on('click', '[data-rjsmp-<?php echo $unique;?>]', function() {					var options = jQuery(this).data('rjsmp-<?php echo $unique;?>');					if (!options.content.target) {					  options.content.target = '#rjsmp-modal-<?php echo $unique;?>';					}					new Custombox.modal(options).open();				  });				 }); 	  </script>						<?php	$content .= ob_get_clean();	return $content;	}add_shortcode('search-popup', 'rjsmp_popup_shortcode');